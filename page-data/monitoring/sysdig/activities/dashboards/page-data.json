{"componentChunkName":"component---src-pages-monitoring-sysdig-activities-dashboards-index-mdx","path":"/monitoring/sysdig/activities/dashboards/","result":{"pageContext":{"frontmatter":{"title":"Sysdig Dashboards","description":"Lab to show how to work with dashboards"},"relativePagePath":"/monitoring/sysdig/activities/dashboards/index.mdx","titleType":"page","MdxNode":{"id":"5452a297-9576-5388-8f82-9b950790cbe0","children":[],"parent":"1abb7e95-16a1-5abe-ab6f-b815cb686c16","internal":{"content":"---\ntitle: Sysdig Dashboards\ndescription: Lab to show how to work with dashboards\n---\n\n\n### Prerequisite\n\n- Configure the Sysdig Agent on a kubernetes cluster, you can use one of the labs in this bootcamp located [here](/monitoring/sysdig/#activities)\n\n\n## Setup Environment\n- Create two namespaces\n```shell\nkubectl create ns staging\nkubectl create ns production\n```\n\n- Deploy web service to both namspaces\n```shell\nkubectl -n staging create deployment my-web-app --image=docker.io/kennethreitz/httpbin\nkubectl -n staging create svc nodeport my-web-app --tcp=8080:80\nkubectl -n production create deployment my-web-app --image=docker.io/kennethreitz/httpbin\nkubectl -n production create svc nodeport my-web-app --tcp=8080:80\n```\n\n- Send load to each web service, run each command in a different terminal\n```shell\nkubectl -n staging port-forward service/my-web-app 8080:8080\n```\n```shell\nkubectl -n production port-forward service/my-web-app 8081:8080\n```\n```shell\nwhile true; do sleep 1; curl http://localhost:8080/status/200 -si | head -1 ; done\n```\n```shell\nwhile true; do sleep 1; curl http://localhost:8081/status/200 -si | head -1 ; done\n```\n\n## Create Dashboard \"Kubernetes Service Golden Signals\" \n- Select Dashboards -> Default Dashboards -> Services -> Kubernetes Service Golden Signals\n- On the top right menu select \"Copy Dashboard\", name the new dashboard \"Kubernetes Service Golden Signals - My Web Service\"\n- Click Edit Scope\n- Select `kubernetes.namespace.name` `in` `production`\n- Click Save\n- Click the star icon to add to favorites\n\n![golden-dashboard](./images/golden-signals.png)\n\n## Create Dashboard \"Kubernetes Pod Overview\" \n- Select Dashboards -> Default Dashboards -> Kubernetes -> Kubernetes Pod Overview\n- On the top right menu select \"Copy Dashboard\", name the new dashboard \"Kubernetes Pod Overview - My Web Service\"\n- Click Edit Scope\n- Select `kubernetes.namespace.name` `in` `staging` `production`\n- Click Save\n- Click the star icon to add to favorites\n\n![pod-overview](./images/pod-overview.png)\n\n## Sharing Dashboard\n- Select one of your Dashboards\n- Click the top right menu select \"Share\" \n- You can share just with your team or as public url\n\n![share-dashboard](./images/share-dashboard.png)\n","type":"Mdx","contentDigest":"4d9594116ee6677f9078dbe88d4d2618","counter":545,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Sysdig Dashboards","description":"Lab to show how to work with dashboards"},"exports":{},"rawBody":"---\ntitle: Sysdig Dashboards\ndescription: Lab to show how to work with dashboards\n---\n\n\n### Prerequisite\n\n- Configure the Sysdig Agent on a kubernetes cluster, you can use one of the labs in this bootcamp located [here](/monitoring/sysdig/#activities)\n\n\n## Setup Environment\n- Create two namespaces\n```shell\nkubectl create ns staging\nkubectl create ns production\n```\n\n- Deploy web service to both namspaces\n```shell\nkubectl -n staging create deployment my-web-app --image=docker.io/kennethreitz/httpbin\nkubectl -n staging create svc nodeport my-web-app --tcp=8080:80\nkubectl -n production create deployment my-web-app --image=docker.io/kennethreitz/httpbin\nkubectl -n production create svc nodeport my-web-app --tcp=8080:80\n```\n\n- Send load to each web service, run each command in a different terminal\n```shell\nkubectl -n staging port-forward service/my-web-app 8080:8080\n```\n```shell\nkubectl -n production port-forward service/my-web-app 8081:8080\n```\n```shell\nwhile true; do sleep 1; curl http://localhost:8080/status/200 -si | head -1 ; done\n```\n```shell\nwhile true; do sleep 1; curl http://localhost:8081/status/200 -si | head -1 ; done\n```\n\n## Create Dashboard \"Kubernetes Service Golden Signals\" \n- Select Dashboards -> Default Dashboards -> Services -> Kubernetes Service Golden Signals\n- On the top right menu select \"Copy Dashboard\", name the new dashboard \"Kubernetes Service Golden Signals - My Web Service\"\n- Click Edit Scope\n- Select `kubernetes.namespace.name` `in` `production`\n- Click Save\n- Click the star icon to add to favorites\n\n![golden-dashboard](./images/golden-signals.png)\n\n## Create Dashboard \"Kubernetes Pod Overview\" \n- Select Dashboards -> Default Dashboards -> Kubernetes -> Kubernetes Pod Overview\n- On the top right menu select \"Copy Dashboard\", name the new dashboard \"Kubernetes Pod Overview - My Web Service\"\n- Click Edit Scope\n- Select `kubernetes.namespace.name` `in` `staging` `production`\n- Click Save\n- Click the star icon to add to favorites\n\n![pod-overview](./images/pod-overview.png)\n\n## Sharing Dashboard\n- Select one of your Dashboards\n- Click the top right menu select \"Share\" \n- You can share just with your team or as public url\n\n![share-dashboard](./images/share-dashboard.png)\n","fileAbsolutePath":"/home/travis/build/ibm-cloud-architecture/learning-cloudnative-101/src/pages/monitoring/sysdig/activities/dashboards/index.mdx"}}}}