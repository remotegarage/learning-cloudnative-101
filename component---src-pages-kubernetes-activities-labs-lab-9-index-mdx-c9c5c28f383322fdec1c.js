(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{ypvJ:function(e,n,t){"use strict";t.r(n),t.d(n,"_frontmatter",(function(){return r})),t.d(n,"default",(function(){return i}));t("91GP"),t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V"),t("q1tI");var a=t("7ljp"),o=t("013z");t("qKvR");function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var r={},l={_frontmatter:r},p=o.a;function i(e){var n=e.components,t=function(e,n){if(null==e)return{};var t,a,o={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,["components"]);return Object(a.b)(p,c({},l,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",null,"Problem"),Object(a.b)("p",null,"Setup minikube"),Object(a.b)("pre",null,Object(a.b)("code",c({parentName:"pre"},{}),"minikube start --network-plugin=cni\nkubectl apply -f https://docs.projectcalico.org/v3.9/manifests/calico.yaml\nkubectl -n kube-system set env daemonset/calico-node FELIX_IGNORELOOSERPF=true\nkubectl -n kube-system get pods | grep calico-node\n")),Object(a.b)("p",null,"Create secured pod"),Object(a.b)("pre",null,Object(a.b)("code",c({parentName:"pre"},{className:"language-yaml"}),"apiVersion: v1\nkind: Pod\nmetadata:\n  name: network-policy-secure-pod\n  labels:\n    app: secure-app\nspec:\n  containers:\n  - name: nginx\n    image: bitnami/nginx\n    ports:\n    - containerPort: 8080\n")),Object(a.b)("p",null,"Create client pod"),Object(a.b)("pre",null,Object(a.b)("code",c({parentName:"pre"},{className:"language-yaml"}),'apiVersion: v1\nkind: Pod\nmetadata:\n  name: network-policy-client-pod\nspec:\n  containers:\n  - name: busybox\n    image: radial/busyboxplus:curl\n    command: ["/bin/sh", "-c", "while true; do sleep 3600; done"]\n')),Object(a.b)("p",null,"Create a policy to allow only client pods with label ",Object(a.b)("inlineCode",{parentName:"p"},'allow-access: "true"')," to access secure pod"))}i.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-kubernetes-activities-labs-lab-9-index-mdx-c9c5c28f383322fdec1c.js.map